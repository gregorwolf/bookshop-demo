# https://api.sap.com/api/API_DMS_PROCESS_SRV/overview
# SAP_COM_0105
# 
###
GET {{$dotenv s4hanahost}}/sap/opu/odata/sap/API_DMS_PROCESS_SRV/$metadata
Authorization: Basic {{$dotenv s4hana_username}}:{{$dotenv s4hana_password}}
###
GET {{$dotenv s4hanahost}}/sap/opu/odata/sap/API_DMS_PROCESS_SRV/
Authorization: Basic {{$dotenv s4hana_username}}:{{$dotenv s4hana_password}}
Accept: application/json
###
GET {{$dotenv s4hanahost}}/sap/opu/odata/sap/API_DMS_PROCESS_SRV/A_DocumentInfoRecord
  ?$inlinecount=allpages
  &$top=10
  &$filter=DocumentStatusName eq 'Released'
  &$expand=to_ProductObj
Authorization: Basic {{$dotenv s4hana_username}}:{{$dotenv s4hana_password}}
Accept: application/json
###
# @name getA_DocInfoRecdObjLinkProduct
GET {{$dotenv s4hanahost}}/sap/opu/odata/sap/API_DMS_PROCESS_SRV/A_DocInfoRecdObjLinkProduct
  ?$inlinecount=allpages
  &$top=10
  &$filter=LinkedSAPObjectKey eq '{{$dotenv LinkedSAPObjectKey}}'
  &$expand=to_DocInfoRecord
Authorization: Basic {{$dotenv s4hana_username}}:{{$dotenv s4hana_password}}
Accept: application/json

### Read Token to Variable
@DMSDocumentInfoRecordDocType={{getA_DocInfoRecdObjLinkProduct.response.body.d.results[0].to_DocInfoRecord.DocumentInfoRecordDocType}}
@DMSDocumentInfoRecordDocNumber={{getA_DocInfoRecdObjLinkProduct.response.body.d.results[0].to_DocInfoRecord.DocumentInfoRecordDocNumber}}
@DMSLogicalDocument={{getA_DocInfoRecdObjLinkProduct.response.body.d.results[0].to_DocInfoRecord.LogicalDocument}}
@DMSArchiveDocumentID={{getA_DocInfoRecdObjLinkProduct.response.body.d.results[0].ArchiveDocumentID}}
@DMSLinkedSAPObjectKey={{getA_DocInfoRecdObjLinkProduct.response.body.d.results[0].LinkedSAPObjectKey}}
@DMSBusinessObjectTypeName={{getA_DocInfoRecdObjLinkProduct.response.body.d.results[0].BusinessObjectTypeName}}



          "DocumentInfoRecordDocType": "KDL",
          "DocumentInfoRecordDocVersion": "01",
          "DocumentInfoRecordDocNumber": "D10061701",
          "DocumentInfoRecordDocPart": "000",
          "DocumentInfoRecord": "KDLD10061701  